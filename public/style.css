/* ===== Highlight styles (InstantSearch/Meili-agnostic) ===== */
mark.ais-Highlight,
em.ais-Highlight {
    background: linear-gradient(transparent 60%, rgba(255, 234, 0, 0.55) 0);
    border-radius: .15rem;
    font-style: inherit;
    font-weight: 600;
    color: inherit;
    line-height: inherit;
    word-break: break-word;
    overflow-wrap: anywhere;

    /* Force tighter spacing - may look cramped */
    letter-spacing: -0.02em;
}

/*mark.ais-Highlight,*/
/*em.ais-Highlight {*/
/*    margin-inline: clamp(0.02em, 0.25ch, 0.15em);*/
/*}*/

/* Optional: subtle outline on dark backgrounds */
@media (prefers-color-scheme: dark) {
    mark.ais-Highlight,
    em.ais-Highlight {
        background: linear-gradient(transparent 60%, rgba(255, 214, 10, 0.45) 0);
        text-shadow:
                0 0 0.01px currentColor,
                0 0 0.01px currentColor; /* sharpen light text in some renderers */
    }
}

/* If you ever switch back to Algolia’s default em tag without class */
em.ais-Highlight,
em.ais-Snippet { /* parity with InstantSearch defaults */
    font-style: normal; /* don’t italicize highlights */
}

/* Keep your existing reset for inline mark padding */
mark { padding: 0 !important; }

/* ===== Your existing layout helpers (unchanged) ===== */

/* Tighten metadata rows */
.meta-grid{
    display:grid;
    grid-template-columns:auto 1fr;
    gap:.35rem .75rem;
    min-width:0;
}
.meta-key{ white-space:nowrap; }
.meta-val{
    min-width:0;
    overflow-wrap:anywhere;
    word-break:break-word;
}

/* Multi-line clamp for overview */
.description-clamp{
    display:-webkit-box;
    -webkit-box-orient:vertical;
    -webkit-line-clamp:4;
    overflow:hidden;
    max-width:100%;
    word-break:break-word;
}
.description-clamp > p,
.description-clamp > div,
.description-clamp > ul,
.description-clamp > ol{
    display:inline; margin:0; padding:0;
}
.description-clamp br{ display:none; }

/* Responsive grid helpers (used by the hits container) */
.grid-5{ width:calc(20% - 1rem) !important; }
.grid-4{ width:calc(25% - 1rem) !important; }
.grid-3{ width:calc(33.333% - 1rem) !important; }
@media (max-width:1199.98px){
    .grid-3{ width:calc(50% - 1rem) !important; }
}
@media (max-width:575.98px){
    .grid-3{ width:calc(100% - 1rem) !important; }
}
.grid-2{ width:calc(50% - 1rem) !important; }
.grid-1{ width:calc(100% - 1rem) !important; }

/* One/two-line truncation helpers */
.line-limit-1,
.line-limit-2{
    display:-webkit-box;
    -webkit-box-orient:vertical;
    overflow:hidden;
}
.line-limit-1{ -webkit-line-clamp:1; }
.line-limit-2{ -webkit-line-clamp:2; }

/* Facet sidebar layout (optional, keep if you use the sidebar) */
.insta-grid{ display:grid; grid-template-columns:320px minmax(0,1fr); gap:1rem; }
@media (max-width:991.98px){ .insta-grid{ grid-template-columns:1fr; } }
.insta-grid > main{ min-width:0; }

.facet-block{ margin-bottom:1.1rem; }
.facet-header{ display:flex; align-items:center; gap:.5rem; }
.facet-title{ font-weight:600; flex:1 1 auto; min-width:0; }
.facet-actions{ display:inline-flex; gap:.25rem; margin-left:auto; }
.facet-body{ margin-top:.5rem; }
.facet-search-input { width: 100%; }

/* Compact icon buttons (framework-neutral) */
.btn-xxs{ padding:2px 4px; line-height:1; }
.btn-icon svg{ width:16px; height:16px; vertical-align:-2px; }
.facet-collapse svg{ width:16px; height:16px; transition:transform .15s ease; }
.facet-collapse[aria-expanded="false"] svg{ transform:rotate(-90deg); }

/* InstantSearch bits: make counts look like badges without theme coupling */
.ais-RefinementList-label{ display:flex; align-items:center; gap:.5rem; }
.ais-RefinementList-count{
    display:inline-block;
    padding:.125rem .375rem;
    border-radius:.375rem;
    font-size:.75rem;
    font-weight:500;
    background-color:rgba(0,0,0,.08);
    color:rgba(0,0,0,.7);
    margin-left:auto;
}
.ais-RefinementList-item{ padding:.25rem 0; }

/* Avoid clipped numbers in slider UIs */
.ais-RangeSlider,
.ais-RangeSlider .rheostat,
.ais-RangeSlider .rheostat-background,
.ais-RangeSlider .rheostat-progress{ overflow:visible !important; }
.ais-RangeSlider{ padding-right:.5rem; }
